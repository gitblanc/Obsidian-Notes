# 18 Octubre 2022 
---

## Patr贸n strategy (tambi茅n conocido Policy)

- Identificar aquellos aspectos que var铆an y separarlos de lo que tiende a permanecer igual

### Aplicabilidad
- Permite configurar una clase con un comportamiento determinado de entre varios
- Se necesitan distintas variantes de un algoritmo
- Los distintos comportamientos de una clase aparecen como m煤ltiples sentencias condicionales

- S贸lo por que dos clases tengan un atributo com煤n, no haremos directamente una clase abstracta.

### Participantes
- Strategy
	- Declara una interfaz com煤n
- ConcreteStrategy
	- Implementa los distintos algoritmos
- Context
	- Se configura con una estrategia concreta
	- Mantiene una referencia a dicho objeto strategy
	- Puede definir operaciones para permitir a la estrategia acceder a los datos que necesite

- La estrategia y el contexto colaboran para implementar el algoritmo escogido
- Los clientes colaboran con el contexto (pueden pasarle la estretegia concreta)

### Consecuencias
- Define familias de algoritmos relacionados
- Es una alternativa a la herencia
- El cliente debe escoger entre varias implementaciones
- Los clientes deben conocer las distintas estrategias
- Puede complicarse la comunicaci贸n entre el contexto y las estrategias
- Crece el n煤mero de objetos

---
# 25 Octubre 2022 锔

Se tiene que poder crear diferentes clases que implementen una interfaz concreta. No se puede hacer con l贸gica condicional, no ser铆a cohesivo y violar铆a el principio de responsabilidad 煤nica.

Se crea una interfaz Factory, ganando que solo se tratan con interfaces y que cuenta con un m茅todo est谩tico cr茅ate(); <---ESTO NO ES UN PATRN DE DISEO, pero puede servir para algunos casos concretos.

Ahora se quiere juntar el enfoque de herencia con el de la Factory. Se quiere que la creaci贸n de los objetos nuevos sea responsabilidad de las clases hijas.

Esquema:

路 CLASE ABSTRACTA

o -> CLASE HIJA

o -> CLASE HIJA

Se usan clases abstractas, no interfaces.

SIN POLIMORFISMO NO HAY FACTORY METHOD

Patr贸n: Factory Method

Tipo: Creaci贸n

Prop贸sito: Definir una interfaz para la creaci贸n de objetos, de forma que las subclases son las responsables de ella.

AKA: Virtual Constructor

Aplicabilidad: Una clase no sabe la clase de los objetos que quiere crear, tambi茅n quiere que los objetos sean creados por sus hijas.

Se us贸 en la pr谩ctica 2:

 ClickedOn(x,y)

 Pi=x,y

 movedTo(x,y)

 releasedOn(x,y)

 Pf = x,y

 Figure newFigure = new Rectangle(pi,pf)

 Editor.getDrawing().addFigure(newFigure)

 Editor.toolDone()

Si se quiere crear un c铆rculo:

 ClickedOn(x,y)

 Pi=x,y

 movedTo(x,y)

 releasedOn(x,y)

 Pf = x,y

 Figure newFigure = new Circle(pi,pf)

 Editor.getDrawing().addFigure(newFigure)

 Editor.toolDone()

De forma que se puede dejar as铆:

 ClickedOn(x,y)

 Pi=x,y

 movedTo(x,y)

 releasedOn(x,y)

 Pf = x,y

 Figure newFigure = createFigure(pi,pf)

 Editor.getDrawing().addFigure(newFigure)

 Editor.toolDone()

 protected abstract Figure createFigure(pi,pf)

public class CrearRectangle extends AbstractToolCreator{

 protected Figure createFigure(pi,pf){

 return new Rectangle(pi,pf);

}

}

public class CrearCircle extends AbstractToolCreator{

 protected Figure createFigure(pi,pf){

 return new Circle(pi,pf);

}

}

Lo m谩s normal es que haya una relaci贸n 1 a 1 entre el creador y el objeto creado. Este patr贸n funciona perfectamente cuando se tiene la jerarqu铆a de creadores y la de objetos, puesto que solo hay que unirlas.

Participantes:

路 Product->Define la interfaz de creaci贸n

路 Creador-> Implementa la interfaz de fabricaci贸n de los objetos, consistente en un m茅todo cr茅ate, al cual puede llamar para crearlos

Colaboraciones

路 La clase padre colabora con las hijas, haciendo llamadas a sus m茅todos.

Consecuencias

路 Elimina la necesidad de enlazar clases espec铆ficas del c贸digo

o Solo se maneja la interfaz Product

搂 Se puede a帽adir cualquier clase concreta m谩s adelante

路 Inconveniente

o Se tiene que tener la clase hija de Creator s铆 o s铆, aunque no hiciese falta, creando una jerarqu铆a artificial.

La forma m谩s l贸gica de pasar de una SimpleFactory a un FactoryMethod ser铆a a帽adir un HashMap usando los strings como claves y las Factory como los valores, pero a veces puede ser matar moscas a ca帽onazos.

---
# 8 Noviembre 2022 

## Patr贸n Composite
- Estructural

## Patr贸n State

## Template Method

---

Ejemplos de patrpnes de dise帽o -> https://refactoring.guru/es/design-patterns/java